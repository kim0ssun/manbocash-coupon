(this["webpackJsonpmanbocash-proj"]=this["webpackJsonpmanbocash-proj"]||[]).push([[0],{58:function(e,t,a){e.exports=a(82)},63:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),l=a.n(r),o=(a(63),a(7)),i=a(35),s=a.n(i);s.a.initializeApp({apiKey:"AIzaSyBbYjZBfxOBX2ay6jTpN9dCw0PXJ4e1rQ4",authDomain:"manbocash-7aa7e.firebaseapp.com",databaseURL:"https://manbocash-7aa7e.firebaseio.com",projectId:"manbocash-7aa7e",storageBucket:"manbocash-7aa7e.appspot.com",messagingSenderId:"387864702922",appId:"1:387864702922:web:04ab97e7a54b1807"});var m=s.a,u=a(22),d=a(20),p=a(101),g=a(106),f=a(108),b=a(33),h=a(51),E=a.n(h),y=function(e){var t=e.displayImage,a=e.displayName,n=e.cash;return c.a.createElement(g.a,{display:"flex",bgcolor:"#f2f2f2",height:"48px",px:3,py:1,alignItems:"center",justifyContent:"space-between"},c.a.createElement(g.a,{display:"flex",alignItems:"center"},c.a.createElement(f.a,{src:t,alt:""}),c.a.createElement(g.a,{px:1},c.a.createElement(b.a,{fontSize:11},a))),c.a.createElement(u.b,{to:"/api/couponbox",style:{textDecoration:"none"}},c.a.createElement(g.a,{fontSize:13,padding:.5,width:70,height:17,textAlign:"center",borderRadius:6,color:"#fff",bgcolor:"#72B4B4"},"\ub0b4 \ucfe0\ud3f0\ud568")),c.a.createElement(g.a,{display:"flex",alignItems:"center"},c.a.createElement(g.a,{p:1,fontSize:13},"\ubcf4\uc720\uce90\uc2dc"),c.a.createElement(g.a,{display:"flex",borderRadius:"8px",bgcolor:"#fff",minWidth:"80px",height:"20px",justifyContent:"space-between",alignItems:"center",px:1},c.a.createElement(E.a,{style:{color:"#8177E6",fontSize:"14px"}}),c.a.createElement(g.a,{fontSize:13,color:"#72B4B4"},n,"\uce90\uc2dc"))))},j=a(102),x=a(107),O=a(104),I=a(103),N=a(52),S=a.n(N),w=a(53),v=m.firestore(),B=Object(p.a)((function(e){return{list:{background:"#f2f2f2",padding:"0 23px 15px",height:"100%"},listItem:{background:"#fff",marginBottom:"7px",padding:"10px 15px"},itemImage:{width:"70px",height:"auto",paddingLeft:"10px"},large:{width:e.spacing(7),height:e.spacing(7)},itemDesc:{paddingLeft:"15px"}}})),C=function(e){var t=e.items,a=e.handleUser,r=e.handleItems,l=Object(d.f)(),i=B(),s=Object(d.h)().uid,m=Object(n.useState)(1),u=Object(o.a)(m,2),p=u[0],b=u[1],h=Object(n.useState)(!1),E=Object(o.a)(h,2),N=E[0],C=E[1],k=Object(n.useState)(""),z=Object(o.a)(k,2),A=z[0],P=z[1],F=Object(n.useState)(""),D=Object(o.a)(F,2),L=D[0],T=D[1],_=Object(n.useState)(0),H=Object(o.a)(_,2),U=H[0],q=H[1],J=w.throttle((function(){var e=window.innerHeight,t=document.body.scrollHeight;e+(document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)===t&&!1===N&&(b((function(e){return e+1})),C(!0))}),300);return Object(n.useEffect)((function(){var e=S()(window,"scroll",J);return function(){e()}}),[]),Object(n.useEffect)((function(){var e=[];v.collection("productsByOne").orderBy("realPrice").limit(10*p).get().then((function(t){t.forEach((function(t){e.push(t.data())})),r(e),C(!1)}))}),[p]),Object(n.useEffect)((function(){v.collection("members").doc(s).onSnapshot((function(e){T(e.data().photoUrl),P(e.data().nickName),q(Number(e.data().cash)),a({uid:s,displayImage:e.data().photoUrl,displayName:e.data().nickName,cash:Number(e.data().cash)})})),window.scrollTo(0,0)}),[]),c.a.createElement(n.Fragment,null,c.a.createElement(y,{displayImage:L,displayName:A,cash:U}),c.a.createElement(j.a,{className:i.list,component:"nav"},t.map((function(e){var t=e.goodsImgS,a=e.goodsCode,r=e.goodsName,o=e.brandName,s=e.realPrice;return c.a.createElement(x.a,{className:i.listItem,button:!0,onClick:function(e){return function(e,t){console.log("goodsCode: "+t),l.push("/goods/".concat(t))}(0,a)},key:a},c.a.createElement(I.a,null,c.a.createElement(f.a,{src:t,className:i.large,variant:"square",alt:a})),c.a.createElement(O.a,{className:i.itemDesc,primary:r,secondary:c.a.createElement(n.Fragment,null,c.a.createElement(g.a,{className:i.itemDesc},c.a.createElement(g.a,{fontSize:14,height:14},o),c.a.createElement(g.a,{fontSize:16,height:14,color:"#72B4B4",textAlign:"right"},s,"\uce90\uc2dc")))}))}))))},k=function(){return c.a.createElement("h1",null,"Not Found....")},z=Object(p.a)((function(e){return{root:{},small:{width:e.spacing(4),height:e.spacing(4),paddingLeft:"10px"},large:{width:e.spacing(50),height:e.spacing(50)},btn_buy:{"&:hover":{cursor:"pointer",background:"#175656"}}}})),A=function(e){var t=e.items,a=(Object(d.g)(),Object(d.h)().goods_code),r=Object(d.f)(),l=Object(n.useState)(!1),i=Object(o.a)(l,2),s=i[0],m=i[1],u=Object(n.useState)(""),p=Object(o.a)(u,2),b=p[0],h=p[1],E=Object(n.useState)(""),j=Object(o.a)(E,2),x=j[0],O=j[1],I=Object(n.useState)(""),N=Object(o.a)(I,2),S=N[0],w=N[1],v=Object(n.useState)(""),B=Object(o.a)(v,2),C=B[0],k=B[1],A=Object(n.useState)(""),P=Object(o.a)(A,2),F=P[0],D=P[1],L=Object(n.useState)(""),_=Object(o.a)(L,2),H=_[0],U=_[1],q=Object(n.useState)(""),J=Object(o.a)(q,2),R=J[0],W=J[1],X=z(),K=Object(n.useContext)(T);Object(n.useEffect)((function(){t.filter((function(e){return e.goodsCode===a})).forEach((function(e){h(e.goodsImgB),w(e.content),O(e.goodsCode),k(e.realPrice),U(e.brandName),W(e.brandIconImg),D(e.goodsName),m(!0)})),window.scrollTo(0,0)}),[]);return c.a.createElement(n.Fragment,null,c.a.createElement(y,{displayImage:K.displayImage,displayName:K.displayName,cash:K.cash}),s?c.a.createElement(g.a,{pb:4},c.a.createElement(g.a,{textAlign:"center",p:2,m:"auto",display:"flex",justifyContent:"center",alignItems:"center"},c.a.createElement(f.a,{src:b,className:X.large,variant:"square"})),c.a.createElement(g.a,{textAlign:"center",p:2},c.a.createElement(g.a,null,F),c.a.createElement(g.a,{display:"flex",alignItems:"center",justifyContent:"center"},c.a.createElement(g.a,{color:"gray",fontSize:14},H),c.a.createElement(f.a,{src:R,className:X.small})),c.a.createElement(g.a,{color:"#72B4B4"},C,"\uce90\uc2dc")),c.a.createElement(g.a,{bgcolor:"#F2F2F2",fontSize:"12",textAlign:"center",height:"50px",lineHeight:"50px"},"\uc0c1\uc138\uc815\ubcf4(",x,")"),c.a.createElement(g.a,{px:4,py:2,fontSize:"13px"},S.split("\n").map((function(e){return c.a.createElement("span",null,e,c.a.createElement("br",null))}))),c.a.createElement(g.a,{className:X.btn_buy,bgcolor:"#72B4B4",height:"50px",textAlign:"center",color:"white",lineHeight:"50px",onClick:function(e){r.push("/goods/sale/".concat(x))}},"\uad6c\ub9e4\ud558\uae30")):c.a.createElement(g.a,null,"loading...."))},P=a(105),F=Object(p.a)((function(e){return{medium:{width:e.spacing(20),height:e.spacing(20)},small:{width:e.spacing(4),height:e.spacing(4),paddingLeft:"10px"},divider:{height:"6px",backgroundColor:"#f2f2f2"}}})),D=function(e){var t=e.items,a=F(),r=Object(d.h)().goods_code,l=Object(n.useState)({}),i=Object(o.a)(l,2),s=i[0],m=i[1],u=Object(n.useContext)(T);return Object(n.useEffect)((function(){t.filter((function(e){return e.goodsCode===r})).forEach((function(e){var t={goodsName:e.goodsName,brandName:e.brandName,realPrice:e.realPrice,goodsImgS:e.goodsImgS,brandIconImg:e.brandIconImg};m(t)})),window.scrollTo(0,0)}),[]),c.a.createElement(n.Fragment,null,c.a.createElement(g.a,null,c.a.createElement(y,{displayImage:u.displayImage,displayName:u.displayName,cash:u.cash}),c.a.createElement(g.a,null,c.a.createElement(g.a,{height:"",display:"flex",alignItems:"center"},c.a.createElement(g.a,{px:4},c.a.createElement(f.a,{src:s.goodsImgS,className:a.medium,variant:"square"})),c.a.createElement(g.a,{pr:4},c.a.createElement(g.a,null,s.goodsName),c.a.createElement(g.a,{display:"flex",alignItems:"center"},c.a.createElement(g.a,{color:"gray",fontSize:14},s.brandName),c.a.createElement(f.a,{src:s.brandIconImg,className:a.small})),c.a.createElement(g.a,{color:"#72B4B4"},s.realPrice,"\uce90\uc2dc"))),c.a.createElement(P.a,{className:a.divider}),c.a.createElement(g.a,{py:3},c.a.createElement(g.a,{display:"flex",px:4,py:0,justifyContent:"space-between"},c.a.createElement(g.a,null,"\ucd1d \ubcf4\uc720 \uce90\uc2dc"),c.a.createElement(g.a,null,u.cash,"\uce90\uc2dc")),c.a.createElement(g.a,{display:"flex",px:4,py:0,justifyContent:"space-between"},c.a.createElement(g.a,null,"\uad6c\ub9e4 \uce90\uc2dc"),c.a.createElement(g.a,null,s.realPrice,"\uce90\uc2dc"))),c.a.createElement(P.a,{className:a.divider}),c.a.createElement(g.a,{display:"flex",py:3,px:4,justifyContent:"space-between"},c.a.createElement(g.a,null,"\uce90\uc2dc \uc794\uc561"),c.a.createElement(g.a,{color:"#72B4B4"},u.cash-parseInt(s.realPrice),"\uce90\uc2dc")),c.a.createElement(P.a,{className:a.divider}),c.a.createElement(g.a,{py:5},c.a.createElement(g.a,{textAlign:"center",lineHeight:"25px"},"\uad6c\ub9e4\uc644\ub8cc \ubc84\ud2bc\uc744 \ub204\ub978 \ud6c4, ",c.a.createElement("br",null),c.a.createElement("span",{style:{color:"#72B4B4"}},"\ub0b4 \ucfe0\ud3f0\ud568"),"\uc73c\ub85c \uc774\ub3d9\ud558\ub2c8",c.a.createElement("br",null),"\uadf8\uacf3\uc5d0\uc11c \uc6d0\ud558\ub294 \uc0c1\ud488\ubc14\ucf54\ub4dc\ub97c \uc774\uc6a9\ud574",c.a.createElement("br",null),"\uad6c\ub9e4\ud558\uc2dc\uba74 \ub429\ub2c8\ub2e4.",c.a.createElement("br",null)),c.a.createElement(g.a,{textAlign:"center",pt:5,pb:2,style:{textDecoration:"underline"}},c.a.createElement("a",null,"\ucde8\uc18c\ud558\uae30"))),c.a.createElement(g.a,{textAlign:"center",bgcolor:"#72B4B4",py:2,color:"white"},"\uad6c\ub9e4\uc644\ub8cc"))))},L=(a(81),m.firestore()),T=c.a.createContext();var _=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),i=Object(o.a)(l,2),s=i[0],m=i[1],p=Object(n.useState)({}),g=Object(o.a)(p,2),f=g[0],b=g[1],h=function(e){var t=e.uid,a=e.displayName,n=e.displayImage,c=e.cash;b({uid:t,displayName:a,displayImage:n,cash:c})},E=function(e){r(e)};return Object(n.useEffect)((function(){(function(){var e=[];return L.collection("productsByOne").orderBy("realPrice").limit(10).get().then((function(t){t.forEach((function(t){e.push(t.data())})),r(e),m(!0)}))})().then((function(e){console.log("\uae30\ubcf8 \ub370\uc774\ud0c0 \uc14b\uc5c5")})).catch((function(e){return console.log("err",e)}))}),[]),c.a.createElement(T.Provider,{value:f},c.a.createElement(n.Fragment,null,s?c.a.createElement(u.a,null,c.a.createElement(d.c,null,c.a.createElement(d.a,{exact:!0,path:"/:uid",render:function(){return c.a.createElement(C,{items:a,handleUser:h,handleItems:E})}}),c.a.createElement(d.a,{path:"/goods/sale/:goods_code",render:function(){return c.a.createElement(D,{user:f,items:a})}}),c.a.createElement(d.a,{path:"/goods/:goods_code",render:function(){return c.a.createElement(A,{user:f,items:a})}}),c.a.createElement(d.a,null,c.a.createElement(k,null)))):c.a.createElement("div",null,"Loading...")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[58,1,2]]]);
//# sourceMappingURL=main.8f3f4f90.chunk.js.map